<partial name="_PageSizeModal" />
<nav aria-label="Page navigation">
	@{
		if (Model.TotalPages == 0)
		{
			<ul class="pagination justify-content-center pagination-sm mt-4 mx-0">
				<li class="page-item">
					<button type="button" title="Click to change page size" data-bs-toggle="modal" 
						data-bs-target="#pageSizeModal" class="btn btn-outline-primary py-0 mx-1">
						No Data to Show
					</button>
				</li>
			</ul>
		}
		else if (Model.TotalPages == 1)
		{
			<ul class="pagination justify-content-center pagination-sm mt-4 mx-0">
				<li class="page-item">
					<button type="button" title="Click to change page size" data-bs-toggle="modal" data-bs-target="#pageSizeModal"
							class="btn btn-outline-primary py-0 mx-1">
						Page @Model.PageIndex of @Model.TotalPages
					</button>
				</li>
			</ul>
		}
		else
		{
			var jumpAmount = (Model.TotalPages > 50) ? 10 : 5;
			var prevDisabled = !Model.HasPreviousPage ? "disabled='disabled'" : "";
			var nextDisabled = !Model.HasNextPage ? "disabled='disabled'" : "";
			var stepBack = (Model.PageIndex <= jumpAmount) ? 1 : Model.PageIndex - jumpAmount;
			var stepForward = (Model.PageIndex + jumpAmount > Model.TotalPages) ? Model.TotalPages : Model.PageIndex + jumpAmount;
			//
			<ul class="pagination justify-content-center pagination-sm mt-4 mx-0">
				<li class="page-item">
					<button type="submit" name="page" value="1" @prevDisabled class="btn page-link text-purple border-0">
						First
					</button>
				</li>
				@if (Model.TotalPages > 10)
				{
					<li class="page-item d-none d-md-inline">
						<button type="submit" 
								name="page" 
								data-bs-toggle="tooltip" 
								value="@(stepBack)" 
								@prevDisabled
								title="Jump Back @(Model.PageIndex - stepBack) Page@(Model.PageIndex - stepBack == 1 ? "" : "s")"
								class="btn page-link text-purple border-0">
							<span aria-hidden="true">&#11207;&#11207;</span>
						</button>
					</li>
				}
				<li class="page-item">
					<button type="submit" name="page" @prevDisabled value="@(Model.PageIndex - 1)"
							class="btn page-link text-purple border-0">
						<span aria-hidden="true">&#11207;</span> <span class="d-none d-md-inline">Prev</span>
					</button>
				</li>

				<li class="page-item">
					<button type="button"
							onClick="showModal('#pageSizeModal')"
							data-bs-toggle="tooltip"
							title="Click to change page size"
							class="btn btn-outline-purple py-0 mx-1">
						<span class="d-none d-md-inline">Pg. </span>@Model.PageIndex of @Model.TotalPages
					</button>
				</li>

				<li class="page-item">
					<button type="submit" name="page" @nextDisabled value="@(Model.PageIndex + 1)"
							class="btn page-link text-purple border-0">
						<span class="d-none d-md-inline">Next</span> <span aria-hidden="true">&#11208;</span>
					</button>
				</li>
				@if (Model.TotalPages > 10)
				{
					<li class="page-item d-none d-md-inline">
						<button type="submit" 
								data-bs-toggle="tooltip" 
								name="page" 
								@nextDisabled 
								value="@(stepForward)"
								title="Jump Forward @(stepForward - Model.PageIndex) Page@(stepForward - Model.PageIndex == 1 ? "" : "s")"
								class="btn page-link text-purple border-0">
							<span aria-hidden="true">&#11208;&#11208</span>
						</button>
					</li>
				}
				<li class="page-item">
					<button type="submit" name="page" @nextDisabled value="@(Model.TotalPages)" 
						class="btn page-link text-purple border-0">
						Last
					</button>
				</li>
			</ul>
		}
	}
</nav>

<!--

Include this in the views where this paging bar is used

<script type="text/javascript">
	var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
	var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
		return new bootstrap.Tooltip(tooltipTriggerEl);
				});
	function showModal(modalId) {
		var modal = new bootstrap.Modal(document.querySelector(modalId));
		modal.show();
	}
</script>

-->